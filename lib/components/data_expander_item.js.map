{"version":3,"sources":["../../src/components/data_expander_item.js"],"names":[],"mappings":"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","file":"data_expander_item.js","sourcesContent":["//Libraries\nconst React = require(\"react\");\nconst _     = require(\"lodash\");\n\n// Flux\n// const DataStore      = require(\"../stores/data_store\");\nconst ColumnsStore   = require(\"../stores/columns_store\");\n\n\n//Components\nconst DataItem  = require(\"./data_item\");\n// const Buttons   = require(\"morse-bootstrap-react\").Material;\n// const DeleteBtn = Buttons.Delete;\n// const IconBtn   = Buttons.Icon;\n\n// Mixins\nconst cssMixins  = require(\"morse-react-mixins\").css_mixins;\n// const textMixins = require(\"morse-react-mixins\").text_mixins;\n\nclass DataExpanderItem extends DataItem {\n  constructor(props) {\n    super(props);\n    this.active = [{active: false}];\n    this.answer = [\"collapse\", {\"in\": false}];\n    this.chevron = [\"glyphicon\", {\"glyphicon-chevron-up\": false}, {\"glyphicon-chevron-down\": true}];\n    this.state = {\n      acc_css: this.getClasses(this.answer),\n      active: this.getClasses(this.active),\n      chevron: this.getClasses(this.chevron),\n      css: \"col-md-1\",\n      device: \"desktop\",\n      selected: false,\n      show_additional: false\n    };\n\n  }\n\n  _onClick(e) {\n    e.preventDefault();\n    let show = (this.state.show_additional) ? false : true;\n\n    this.active  = this.toggleCss(this.active);\n    this.answer  = this.toggleCss(this.answer);\n    this.chevron = this.toggleCss(this.chevron);\n    this.setState({\n      acc_css         : this.getClasses(this.answer),\n      active          : this.getClasses(this.active),\n      chevron         : this.getClasses(this.chevron),\n      show_additional : show\n    });\n\n  }\n\n  renderAll() {\n    let data = this.props.data;\n\n    if(data) {\n      let visible  = ColumnsStore.getShowable();\n      // let included = _.pluck(visible, \"key\");\n\n      let li = _.map(visible, (col) => {\n        return this.renderItem(col, data);\n      });\n\n      return li;\n    }\n\n    return \"\";\n  }\n\n  renderAdditional() {\n    let additional;\n\n    if(this.state.show_additional) {\n      additional = (\n        <ul className={`list-group ${this.state.acc_css}`}>\n          {this.renderAll()}\n        </ul>\n      );\n\n    } else {\n      additional = \"\";\n    }\n\n    return additional;\n  }\n\n  renderItem(col, data){\n    // let title = _.find(visible, {key:key}).title\n    return <li className=\"list-group-item col-md-4\"><strong>{col.title}:</strong> {this.displayData(data, col)}</li>;\n  }\n\n  renderShowButton() {\n    let buttonText;\n\n    if(this.state.active) {\n      buttonText = \"Less\";\n    } else {\n      buttonText = \"More\";\n    }\n\n    return (\n      <div className={this.props.css.default}>\n        <a href=\"#\" onClick={this._onClick.bind(this)} className=\"btn btn-info\">\n          {buttonText} &nbsp;\n          <i className={this.state.chevron}></i>\n        </a>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className={`tr ${this.state.active} ${this.state.removed}`}>\n        <div className=\"clearfix\">\n          {this.renderTd()}\n          {this.renderShowButton()}\n        </div>\n        {this.renderAdditional()}\n      </div>\n    );\n  }\n\n}\n\nObject.assign(DataExpanderItem.prototype, cssMixins);\n\nmodule.exports = DataExpanderItem;\n"]}
{"version":3,"sources":["../../src/vanilla_components/filters_select.js"],"names":[],"mappings":";;;;;;;;;;;AACA,IAAM,KAAK,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AACtC,IAAM,CAAC,GAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;;;AAGhC,IAAM,aAAa,GAAM,OAAO,CAAC,2BAA2B,CAAC,CAAC;;IAIxD,aAAa;YAAb,aAAa;;AAEN,WAFP,aAAa,CAEL,KAAK,EAAE;0BAFf,aAAa;;AAGf,+BAHE,aAAa,6CAGT,KAAK,EAAE;AACb,QAAI,CAAC,KAAK,GAAG,EAAC,QAAQ,EAAC,KAAK,EAAC,CAAC;GAC/B;;eALG,aAAa;;WAOR,mBAAC,CAAC,EAAC;AACV,UAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AACzB,UAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;;AAExD,UAAI,CAAC,QAAQ,CAAC,EAAC,QAAQ,EAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAAC,CAAC,CAAC;AACjD,mBAAa,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;AAC1C,UAAG,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAC;AACnC,YAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;OACvB;KACF;;;WAEY,yBAAE;AACb,UAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AACpB,YAAI,IAAI,GAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;;AAEvC,YAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAA,UAAS,CAAC,EAAC;;AAE5B,cAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;AACvC,mBAAQ;;;AACN,mBAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,AAAC;AAClB,qBAAK,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,AAAC;AACnB,wBAAQ,MAAA;;cAEL,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;aACR,CACT;WACH,MAAM;AACL,mBAAQ;;;AACN,mBAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,AAAC;AAClB,qBAAK,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,AAAC;;cAEhB,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;aACR,CACT;WACH;SAEJ,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;AAEd,eAAO,KAAK,CAAC;OACd;KAEF;;;WAEK,kBAAG;AACP,UAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAClD,aACE;;UAAK,SAAS,EAAC,YAAY;QACzB;;;UAAQ,KAAK;SAAS;QACtB;;YAAQ,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,AAAC,EAAC,SAAS,EAAC,cAAc;UACnE;;cAAQ,KAAK,EAAC,KAAK;;WAAa;UAC/B,IAAI,CAAC,aAAa,EAAE;SACd;OACL,CACN;KACH;;;SA7DG,aAAa;GAAS,KAAK,CAAC,SAAS;;AAgE3C,MAAM,CAAC,OAAO,GAAG,aAAa,CAAC","file":"filters_select.js","sourcesContent":["//Libraries\nconst React = require(\"react/addons\");\nconst _     = require(\"lodash\");\n\n// const FilterStore      = require(\"../../stores/filterStore\");\nconst FilterActions    = require(\"../actions/filter_actions\");\n\n\n\nclass FiltersSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {selected:\"all\"};\n  }\n\n  _onChange(e){\n    let val = e.target.value;\n    let filterBy = this.props.filter.getDetails(\"filterBy\");\n\n    this.setState({selected:Number(e.target.value)});\n    FilterActions.selectFilter(filterBy, val);\n    if(_.isFunction(this.props.callback)){\n      this.props.callback();\n    }\n  }\n\n  renderOptions(){\n    if(this.props.filter) {\n      let opts  = this.props.filter.getAll();\n\n      let items = opts.map(function(f){\n\n          if (this.state.selected === f.get(\"id\")) {\n            return (<option\n              key={_.uniqueId()}\n              value={f.get(\"id\")}\n              selected\n              >\n                {f.get(\"title\")}\n              </option>\n            );\n          } else {\n            return (<option\n              key={_.uniqueId()}\n              value={f.get(\"id\")}\n              >\n                {f.get(\"title\")}\n              </option>\n            );\n          }\n\n      }.bind(this));\n\n      return items;\n    }\n\n  }\n\n  render() {\n    let title = this.props.filter.getDetails(\"title\");\n    return (\n      <div className=\"form-group\">\n        <label>{title}</label>\n        <select onChange={this._onChange.bind(this)} className=\"form-control\">\n          <option value=\"all\">All</option>\n          {this.renderOptions()}\n        </select>\n      </div>\n    );\n  }\n}\n\nmodule.exports = FiltersSelect;\n"]}
{"version":3,"sources":["../../src/components/action_buttons.js"],"names":[],"mappings":"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","file":"action_buttons.js","sourcesContent":["//Libraries\nconst React = require(\"react/addons\");\nconst _     = require(\"lodash\");\n\n\n//Mixins\nconst textMixins = require(\"morse-react-mixins\").text_mixins;\n\nvar Buttons     = require('morse-bootstrap-react').Material;\nconst DeleteBtn = Buttons.Delete;\nconst IconBtn   = Buttons.Icon;\n\n// let buttons = [\n//   {key:\"show\", title:{text:\"View Shopping Request for :replace\", replace:\"requester_name\"}, icon:\"tv\", text:\"\", options:{ button_type: \"default\", placement: \"top\"}}\n// ]\n\nclass ActionButtons extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentWillMount(){\n    this.props.config = _.map(this.props.config, (conf)=>{\n      conf.type      = conf.type || \"default\";\n      conf.title_str = this.setTitle(conf);\n      conf.path      = this.getPath(conf.key);\n      return conf;\n    });\n  }\n\n  getPath(key){\n    let btn = this.props.data.get(\"buttons\");\n    return btn.get(key);\n  }\n\n  renderButtons(){\n    if(this.props.data){\n      let btns = _.map(this.props.config, (config)=>{\n        if(config.type === \"delete\"){\n          return(<li>\n            <DeleteBtn\n              tooltip    = {config.title_str}\n              callback   = {this.deleteCallBack.bind(this)}\n              delete_msg = {`Are you sure you want to delete ${this.getToolTip()}?`}\n              delete_api  = {this.setDeleteApi()}\n              key         = {_.uniqueId(\"delete\")}\n              id          = {item.get(\"id\")}\n            />\n          </li>);\n        } else {\n          return(<li>\n            <IconBtn\n              icon    = {config.icon}\n              path    = {config.path}\n              title   = {config.title_str}\n              options = {config.options}\n              key     = {_.uniqueId(\"action\")}\n            />\n          </li>);\n        }\n      });\n\n      return btns;\n    }\n\n    return \"\";\n  }\n\n  render(){\n    return (\n      <ul className=\"actions\">\n        {this.renderButtons()}\n      </ul>\n    );\n  }\n  // Best performance - http://jsperf.com/test-approach\n  setTitle(config){\n    let obj  = config.title\n    let keys = _.remove(_.keys(obj), (k)=>{\n      return k !== \"text\"\n    });\n\n    let title = obj.text;\n    _.forEach(keys, (k)=>{\n      let txt = this.props.data.get(obj[k])\n      title = title.replace(`:${k}`, txt);\n    })\n\n    return title;\n  }\n\n\n}\n\nmodule.exports = ActionButtons;\n"]}
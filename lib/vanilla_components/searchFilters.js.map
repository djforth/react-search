{"version":3,"sources":["../../src/vanilla_components/searchFilters.js"],"names":[],"mappings":"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","file":"searchFilters.js","sourcesContent":["//Libraries\nconst React   = require(\"react/addons\");\nconst _ = require(\"lodash\");\n\nconst DataActions    = require(\"../actions/data_actions\");\nconst FilterStore    = require(\"../stores/filter_store\");\nconst ColumnsStore   = require(\"../stores/columns_store\");\n\n//Mixins\nconst cssMixins  = require(\"morse-react-mixins\").css_mixins;\nconst textMixins = require(\"morse-react-mixins\").text_mixins;\n\nclass SearchFilters extends React.Component{\n\n  constructor(props) {\n    super(props);\n    this.dropdown =  [\"input-group-btn\", {\"open\":false}];\n\n    this.state = {\n      dropdown:this.getClasses(this.dropdown),\n      expanded:\"false\",\n      selectedkey:\"all\"\n    };\n  }\n\n  componentDidMount() {\n    this.quickSearch = (_.isBoolean(this.props.quickSearch)) ? this.props.quickSearch : true;\n\n    if(FilterStore.isSelectedKey(this.props.item)){\n      this.active = [{active:true}];\n      this.setState({active:this.getClasses(this.active)});\n    }\n\n    FilterStore.addChangeListener(\"change_key\", this._openDropdown.bind(this));\n    ColumnsStore.addChangeListener(\"adding\", this._onAdd.bind(this));\n  }\n\n  componentWillUnmount() {\n    FilterStore.removeChangeListener(\"change_key\", this._openDropdown);\n    ColumnsStore.removeChangeListener(\"adding\", this._onAdd);\n  }\n\n  _onAdd(){\n    this.setState({\n      keys:ColumnsStore.getSearchable()\n    });\n  }\n\n  _onChange(e){\n    if(this.quickSearch){\n      if(this.loop){\n        window.clearTimeout(this.loop);\n      }\n\n      this.loop = window.setTimeout((val)=>{\n        if(val.length > 2 || val === \"\"){\n          DataActions.searching(val);\n        }\n      }, 200, e.target.value);\n    }\n\n    // _.defer((val)=>{\n    //   DataActions.searching(val);\n    // }, e.target.value);\n  }\n\n  // _openDropdown(){\n  //   this.dropdown = this.toggleCss(this.dropdown);\n  //   let expanded  = (this.state.expended === \"true\") ? \"false\" : \"true\";\n  //   this.setState({\n  //     dropdown:this.getClasses(this.dropdown),\n  //     expanded:expanded,\n  //     selectedkey:FilterStore.getSelectedKey()\n  //   });\n  // }\n\n  _preventSubmit(e){\n    // console.log(\"submiting\", e);\n    e.preventDefault();\n\n  }\n\n  // renderKeys(){\n  //   if(this.state.keys){\n  //     let items = this.state.keys.map(function(k){\n  //       return (<Keys item={k} key={_.uniqueId(\"key\")} />);\n  //       });\n\n  //       return items;\n  //   }\n  // }\n\n  render() {\n    return (\n      <form accept-charset=\"UTF-8\" onSubmit={this._preventSubmit.bind(this)}>\n        <input alt=\"Search\" type=\"image\" src=\"/assets/images/search.png\" />\n        <div className=\"fields-container\">\n          <input type=\"text\" name=\"querystr\" id=\"querystr\" value=\"\" placeholder=\"Search\" />\n        </div>\n\n      </form>\n    );\n  }\n}\n\nObject.assign(SearchFilters.prototype, cssMixins);\nObject.assign(SearchFilters.prototype, textMixins);\n\nmodule.exports = SearchFilters;"]}
{"version":3,"sources":["../../src/generic_search/generic_item.js"],"names":[],"mappings":"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","file":"generic_item.js","sourcesContent":["//Libraries\nconst React = require(\"react/addons\");\nconst _     = require(\"lodash\");\n\n//Flux\nconst DataAction   = require('../actions/data_actions');\nconst ColumnsStore = require('../stores/columns_store');\n\n//Components\nconst DataItem   = require('../components/data_item');\n\nvar Buttons = require('morse-bootstrap-react').Material;\nconst DeleteBtn  = Buttons.Delete;\nconst IconBtn    = Buttons.Icon;\n\nclass GenericItem extends DataItem {\n  constructor(props) {\n    super(props);\n    this.active  = [{active:false}];\n    this.mounted = false;\n    this.removed = [\"row\", \"tr\", \"vPad5\", {hide:false}];\n    this.state = {data:[], columns:[], removed:this.getClasses(this.removed)};\n  }\n\n  deleteCallBack(flash){\n    this.removed  = this.toggleCss(this.removed);\n    this.setState({removed:this.getClasses(this.removed)});\n    DataAction.deleteItem(this.props.data.get(\"id\"), flash);\n    React.unmountComponentAtNode(this.getDOMNode().parentNode)\n  }\n\n  getToolTip(){\n    let item = this.props.data;\n    return item.get(this.props.tooltip);\n  }\n\n  renderTd(){\n\n    let item = this.state.data;\n    if(item && this.state.columns){\n       let td = _.map(this.state.columns, function(col){\n         if(col.key === \"actions\"){\n           return (\n            <ul className=\"actions\">\n              <li>\n                <DeleteBtn\n                  tooltip    = {`Delete ${this.getToolTip()}`}\n                  callback   = {this.deleteCallBack.bind(this)}\n                  delete_msg = {`Are you sure you want to delete ${this.getToolTip()}?`}\n                  delete_api  = {this.setDeleteApi()}\n                  id          = {item.get(\"id\")}\n                />\n              </li>\n              <li>\n                <IconBtn\n                  icon=\"edit\"\n                  path={this.setEditPath()}\n                  title={`Edit ${this.getToolTip()}`}\n                  options={{ button_type: \"default\", placement: \"top\"}}\n                />\n              </li>\n            </ul>\n            );\n         } else {\n          // console.log('Data',this.displayData(item, col));\n          // console.log(col);\n           return (\n            <div className={this.checkCss(this.props.css, col.key)} key={_.uniqueId()}>\n              {this.displayData(item, col)}\n            </div>\n            );\n         }\n      }.bind(this));\n\n      return td;\n    }\n    return \"\";\n  }\n\n  render() {\n    return (\n      <div className={this.state.removed}>\n        {this.renderTd()}\n      </div>\n\n    );\n  }\n\n  setDeleteApi(){\n    if(_.isString(this.props.delete)){\n      return this.props.delete.replace(\":id\", this.props.data.get(\"id\"));\n    }\n\n    return \"\";\n  }\n\n  setEditPath(){\n    if(_.isString(this.props.delete)){\n      return this.props.edit.replace(\":id\", this.props.data.get(\"id\"));\n    }\n\n    return \"\";\n  }\n\n  shouldComponentUpdate(nextProps, nextState){\n    return this.props.data !== nextProps.data || this.state.columns !== nextState.columns ;\n  }\n}\n\nmodule.exports = GenericItem;\n"]}